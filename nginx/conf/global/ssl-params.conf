# SSL/TLS 安全參數配置
# 提供強化的 SSL/TLS 設定，確保傳輸安全

# SSL 證書路徑
ssl_certificate /etc/letsencrypt/live/novis.tplinkdns.com/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/novis.tplinkdns.com/privkey.pem;

# 只允許安全的 TLS 協議版本
ssl_protocols TLSv1.2 TLSv1.3;

# 強加密演算法套件
ssl_ciphers ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305;

# 伺服器優先選擇加密演算法
ssl_prefer_server_ciphers on;

# 啟用 SSL 會話快取以提升性能
ssl_session_cache shared:SSL:10m;
ssl_session_timeout 1d;

# 禁用會話票證，減少安全風險
ssl_session_tickets off;

# 啟用 HTTP Strict Transport Security (HSTS)
# 強制瀏覽器使用 HTTPS 連線，includeSubDomains 包含子網域
add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
