# Gateway 服務配置
# 包含 Dashboard、認證端點和 API 端點

# Dashboard 端點
location /dashboard {
    limit_req zone=api_limit burst=30 nodelay;

    proxy_pass http://gateway:8000; # FastAPI 容器名稱
    
    # 引入標準代理頭部設定
    include /etc/nginx/conf.d/templates/proxy-headers.conf;
}

# 認證相關端點 (對外)
location /auth {
    limit_req zone=auth_limit burst=20 nodelay;

    proxy_pass http://gateway:8000;
    
    # 引入標準代理頭部設定
    include /etc/nginx/conf.d/templates/proxy-headers.conf;
}

# API 端點 (為未來的 API 服務預留)
location /api {
    proxy_pass http://gateway:8000;
    
    # 引入標準代理頭部設定
    include /etc/nginx/conf.d/templates/proxy-headers.conf;
}
